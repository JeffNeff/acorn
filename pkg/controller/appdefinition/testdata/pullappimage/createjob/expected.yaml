kind: Job
apiVersion: batch/v1
metadata:
  name: default-pull
  namespace: appInstance-namespace
  annotations:
    herd-project.io/app-image: appImage
spec:
  backoffLimit: 3
  template:
    spec:
      volumes:
        - name: "share"
          emptyDir: {}
      initContainers:
        - name: init
          image: "appimageinit"
          args:
          - "init"
          volumeMounts:
            - mountPath: /share
              name: share
      containers:
        - name: image
          image: appImage
          env:
          - name: ID
            value: appImage
          - name: OUTPUT
            value: /dev/termination-log
          command:
            - "/share/init"
          args: []
          volumeMounts:
            - mountPath: /share
              name: share

---
kind: AppInstance
apiVersion: herd-project.io/v1
metadata:
  name: default
  namespace: random
spec:
  image: "appImage"
status:
  namespace: "appInstance-namespace"
  conditions:
    pulled: {}
